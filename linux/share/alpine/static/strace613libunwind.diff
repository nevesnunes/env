diff --git a/main/strace/APKBUILD b/main/strace/APKBUILD
index 2bb7e901..e180558d 100644
--- a/main/strace/APKBUILD
+++ b/main/strace/APKBUILD
@@ -19,7 +19,11 @@ source="https://github.com/strace/strace/releases/download/v$pkgver/strace-$pkgv
 	"
 
 build() {
-	CFLAGS="$CFLAGS -flto=auto" \
+	CFLAGS="$CFLAGS -flto=auto -g -O0" \
+	CPPFLAGS=-DDEBUG \
+	LDFLAGS=-static \
+	LIBS="-l:liblzma.a -l:libucontext.a" \
+	PKG_CONFIG="pkg-config --static" \
 	./configure \
 		--build=$CBUILD \
 		--host=$CHOST \
@@ -27,6 +31,7 @@ build() {
 		--sysconfdir=/etc \
 		--mandir=/usr/share/man \
 		--localstatedir=/var \
+		--with-libunwind \
 		--enable-mpers=no
 	# FIXME don't use bundled kernel headers
 	#	--enable-bundled=no
